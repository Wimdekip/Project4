using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Data;
using System.Data.SqlClient;

namespace Poepjes
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("type login or Create Account");
            /*string input = Console.ReadLine();
            if (input == "Create Account")
            {
                ///Create_Account();
            }
            else
            {
                Console.WriteLine("Failed");
            }
            */

            Create_Account();

        }

        static public void Create_Account()
        {

            Console.WriteLine("Insert name: ");
            String naam = Console.ReadLine();

            Console.WriteLine("Insert email: ");
            String email = Console.ReadLine();

            Console.WriteLine("Insert wachtwoord: ");
            String wachtwoord = Console.ReadLine();

            Console.WriteLine("Insert achternaam: ");
            String achternaam = Console.ReadLine();

            Console.WriteLine("Insert bloedgroep: ");
            String bloedgroep = Console.ReadLine();

            Console.WriteLine("Insert leeftijd: ");
            int leeftijd = Convert.ToInt32(Console.ReadLine());

            Console.WriteLine("Insert geboortedatum: ");
            String geboortedatum = Console.ReadLine();

            Console.WriteLine("Insert Aandoeing: ");
            String Aandoeing = Console.ReadLine();


            PushData(naam, email, wachtwoord, achternaam, bloedgroep, leeftijd, geboortedatum, Aandoeing);



        }

        static public void PushData(string naam,string email,string wachtwoord,string achternaam,string bloedtype,int leeftijd, string geboortedatum, string ziekte)
        {
            
            DataTable dataStore = new DataTable();

            SqlConnection connection = new SqlConnection("Data Source=145.24.222.151,8080;" +
                                                         "Database=E-medic;Persist Security Info=True;" +
                                                         "User ID=sa; Password=Teemo1999");



            
            
            SqlCommand cmd = new SqlCommand("Insert into Gebruiker(naam,email,wachtwoord,achternaam,bloedtype,leeftijd,geboortedatum,ziekte)values(@naam,@email,@wachtwoord,@achternaam,@bloedtype,@leeftijd,@geboortedatum,@ziekte)", connection);
            Console.Write("Entering the Id's:");
            cmd.Parameters.Add("@naam", SqlDbType.Char, 30).Value = naam;
            cmd.Parameters.Add("@email", SqlDbType.VarChar, 45).Value = email;
            cmd.Parameters.Add("@wachtwoord", SqlDbType.VarChar, 200).Value = wachtwoord;
            cmd.Parameters.Add("@achternaam", SqlDbType.Char, 45).Value = achternaam;
            cmd.Parameters.Add("@bloedtype", SqlDbType.Char, 30).Value = bloedtype;
            cmd.Parameters.Add("@leeftijd", SqlDbType.Int).Value = leeftijd;
            cmd.Parameters.Add("@geboortedatum", SqlDbType.Date).Value = geboortedatum;
            cmd.Parameters.Add("@ziekte", SqlDbType.VarChar, 200).Value = ziekte;

            if (connection.State == ConnectionState.Closed)
            {
                connection.Open();
            }
            int i = cmd.ExecuteNonQuery();
            if (i > 0)
            {
                Console.WriteLine("Record Inserted Successfully");
            }
            else
            {
                Console.WriteLine("Operation Failed,Please Try Again Later");
            }
            connection.Close();
            //Shutdown:
            ///Return de "dataStore".
            
        }
    }

}
